\version "2.17.7"

"viol-in-g-tuning" = #`(,(ly:make-pitch  0 4 NATURAL)
                        ,(ly:make-pitch  0 1 NATURAL)
                        ,(ly:make-pitch -1 5 NATURAL)
                        ,(ly:make-pitch -1 3 NATURAL)
                        ,(ly:make-pitch -1 0 NATURAL)
                        ,(ly:make-pitch -2 4 NATURAL))
   %% Use r for c and skip j fret label
"frets-for-luth" = #`(,"a","b","r","d","e","f","g","h","i","k","l","m","n") 
                      
                        
   \context {
    \TabStaff
    \type "Engraver_group"
    \name "ViolTabFingeringStaff"
    \alias "Staff"

    \description "Handles fingering part of viol tablature."

    tablatureFormat = #fret-letter-tablature-format
    fretLabels = #frets-for-luth
    stringTunings = #viol-in-d-tuning
   }
music = \relative c' {
 	\time 3/4
        \clef "treble"
        \key f \major
        
      d'8 e f g a a, | d4 d d | e8 d e f e d | cis4 a e' | a8 bes a g f-+ e
 %6
 	f4 a, d | d cis8 d e cis | d4 d d | f8 e f g a f |
 	g4 c, g' | a8 bes a g f a |  c4 d e f

}
tablature = \relative c' {
	
	<f d r>4  <f d c> <d c c>
	
	
}	

<<
  \new Staff { \music }
  
  \new TabStaff  %\with {tablatureFormat = #fret-letter-tablature-format }
  {\tablature }
>>
